<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>شبیه‌ساز گوشی نوکیا</title>
<style>
  body {
    background: #111;
    margin: 0;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .gallery-container {
    position: relative;
    width: min(90vw, 400px);
    border-radius: 12px;
    overflow: hidden;
  }

  .gallery-image img {
    width: 100%;
    display: block;
    border-radius: 12px;
  }

  .question-mark {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: clamp(20px, 6vw, 30px);
    background: rgba(255,255,255,0.2);
    color: #fff;
    padding: 5px 10px;
    border-radius: 50%;
    cursor: pointer;
    animation: pulse 1.5s infinite;
    user-select: none;
  }

  @keyframes pulse {
    0% { transform: scale(1); opacity: 0.7; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 0.7; }
  }

  /* مودال */
  .nokia-modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    z-index: 1000;
    justify-content: center;
    align-items: center;
    padding: 10px;
  }

  .nokia-phone {
    background: #222;
    border: 3px solid #555;
    border-radius: 20px;
    padding: 15px;
    width: min(90vw, 300px);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .nokia-brand {
    color: #00ffff;
    font-size: clamp(14px, 3vw, 18px);
    margin-bottom: 5px;
  }

  .nokia-screen {
    background: #9acd32;
    color: #000;
    width: 100%;
    height: 120px;
    border: 2px inset #7cfc00;
    padding: 5px;
    font-size: clamp(10px, 2.5vw, 12px);
    overflow-y: auto;
    white-space: pre-line;
    line-height: 1.3;
  }

  .nokia-status {
    display: flex;
    justify-content: space-between;
    margin-bottom: 3px;
    font-size: clamp(8px, 2vw, 10px);
  }

  .nokia-display {
    text-align: center;
  }

  .nokia-keypad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    width: 100%;
    margin-top: 15px;
  }

  .nokia-btn {
    background: #444;
    color: #fff;
    border: none;
    border-radius: 50%;
    padding: 12px;
    font-size: clamp(14px, 3.5vw, 16px);
    cursor: pointer;
    transition: transform 0.1s;
  }

  .nokia-btn:active {
    transform: scale(0.9);
    background: #666;
  }

  .nokia-special {
    background: #007bff;
  }

  .close-nokia {
    background: #ff4444;
    width: 100%;
    margin-top: 10px;
    padding: 8px;
    border-radius: 8px;
  }

  .typing-cursor {
    animation: blink 1s infinite;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  @media (max-width: 500px) {
    .nokia-phone {
      padding: 10px;
    }
    .nokia-keypad {
      gap: 5px;
    }
    .nokia-btn {
      padding: 10px;
      font-size: 14px;
    }
  }
</style>
</head>
<body>

<div class="gallery-container">
  <div class="gallery-image">
    <img src="images/new_edited_image.png" alt="گالری">
  </div>
  <div class="question-mark" onclick="openNokia()">❓</div>
</div>

<!-- مودال نوکیا -->
<div class="nokia-modal" id="nokiaModal" onclick="handleModalClick(event)">
  <div class="nokia-phone">
    <div class="nokia-brand">NOKIA</div>
    <div class="nokia-screen">
      <div class="nokia-status">
        <span>📶🔋</span>
        <span id="nokiaTime">12:00</span>
      </div>
      <div class="nokia-display" id="nokiaDisplay">
        رمز ۴ رقمی وارد کنید<span class="typing-cursor">_</span>
      </div>
    </div>
    <div class="nokia-keypad">
      <button class="nokia-btn" onclick="pressNum('1')">1</button>
      <button class="nokia-btn" onclick="pressNum('2')">2</button>
      <button class="nokia-btn" onclick="pressNum('3')">3</button>
      <button class="nokia-btn" onclick="pressNum('4')">4</button>
      <button class="nokia-btn" onclick="pressNum('5')">5</button>
      <button class="nokia-btn" onclick="pressNum('6')">6</button>
      <button class="nokia-btn" onclick="pressNum('7')">7</button>
      <button class="nokia-btn" onclick="pressNum('8')">8</button>
      <button class="nokia-btn" onclick="pressNum('9')">9</button>
      <button class="nokia-btn" onclick="pressNum('*')">*</button>
      <button class="nokia-btn" onclick="pressNum('0')">0</button>
      <button class="nokia-btn" onclick="pressNum('#')">#</button>
    </div>
    <button class="nokia-btn nokia-special" onclick="submitCode()">📨 ارسال</button>
    <button class="nokia-btn nokia-special" onclick="backspace()">⌫ حذف</button>
    <button class="nokia-btn close-nokia" onclick="closeNokia()">بستن</button>
  </div>
</div>

<script>
let code = "";
const correct = "1965";
let showingMessage = false;

function openNokia(){
  document.getElementById('nokiaModal').style.display = 'flex';
  code = "";
  showingMessage = false;
  updateDisplay();
}

function closeNokia(){
  document.getElementById('nokiaModal').style.display = 'none';
}

function handleModalClick(e){
  if(e.target.id === 'nokiaModal') closeNokia();
}

function pressNum(n){
  if(showingMessage) return;
  if(n==="*" || n==="#") return;
  if(code.length<4){
    code += n;
    updateDisplay();
  }
}

function backspace(){
  if(showingMessage){
    showingMessage = false;
    code = "";
  } else {
    code = code.slice(0,-1);
  }
  updateDisplay();
}

function updateDisplay(){
  const d = document.getElementById('nokiaDisplay');
  if(showingMessage) return;
  d.style.textAlign = "center";
  d.innerHTML = (code ? code : "رمز ۴ رقمی وارد کنید") + '<span class="typing-cursor">_</span>';
}

function submitCode(){
  if(code.length !== 4){
    alert("لطفاً ۴ رقم وارد کنید");
    return;
  }
  if(code === correct){
    showingMessage = true;
    document.getElementById('nokiaDisplay').style.textAlign = "left";
    document.getElementById('nokiaDisplay').innerHTML = `
📅 تاریخ: 2000/10/18
🕘 زمان: 21:30
فرستنده:الکساندرا
گیرنده: استفان
💬 متن پیام:
من حقیقت رو به استیو گفتم
الان خیلی عصبیه و توی شوک رفته
از برادر خودش همچین انتظاری نداشت
بهتره چند روزی تنهاش بزاری

<button onclick="confirmMessage()" style="
background:#00ff00;color:#000;font-weight:bold;padding:5px 10px;border-radius:5px;border:none;cursor:pointer;">تأیید</button>
    `;
  } else {
    alert("❌ رمز اشتباه است!");
    code = "";
    updateDisplay();
  }
}

function confirmMessage(){
  showingMessage = false;
  code = "";
  updateDisplay();
}

setInterval(()=>{
  document.getElementById('nokiaTime').textContent = new Date().toLocaleTimeString('fa-IR',{hour:'2-digit',minute:'2-digit'});
},1000);
</script>

</body>
</html>
